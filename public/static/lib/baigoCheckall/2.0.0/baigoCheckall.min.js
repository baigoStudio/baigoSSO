/*
v2.0.0 jQuery baigoCheckall plugin 表单全选插件
(c) 2016 baigo studio - https://www.baigo.net/jquery/baigocheckall.html
License: http://www.opensource.org/licenses/mit-license.php
*/
;(function($){$.fn.baigoCheckall=function(){'use strict';if(this.length<1){return this;}
var obj_form=$(this);var process={parent:function(_parent){var _parent_num=obj_form.find('#'+_parent).length;if(_parent_num>0){var _brother_num=obj_form.find('[data-parent="'+_parent+'"]').length;var _brother_checked_num=obj_form.find('[data-parent="'+_parent+'"]:checked').length;if(_brother_num>0&&_brother_checked_num>0){if(_brother_num>0&&_brother_checked_num<_brother_num){obj_form.find('#'+_parent).prop('indeterminate',true);obj_form.find('#'+_parent).prop('checked',false);}else{obj_form.find('#'+_parent).prop('indeterminate',false);obj_form.find('#'+_parent).prop('checked',true);}}else{obj_form.find('#'+_parent).prop('indeterminate',false);obj_form.find('#'+_parent).prop('checked',false);}
var _parent_this=obj_form.find('#'+_parent).data('parent');process.parent(_parent_this);}},child:function(_child){var _child_obj=obj_form.find('[data-parent="'+_child+'"]');var _checked=obj_form.find('#'+_child).prop('checked');if(_child_obj){$.each(_child_obj,function(){var _disabled=$(this).attr('disabled');if(!_checked||_disabled){$(this).prop('checked',false);}else{$(this).prop('checked',true);}
var _child_this=$(this).attr('id');process.child(_child_this);});}}}
obj_form.find('input:checkbox').click(function(){var _child=$(this).attr('id');var _parent=$(this).data('parent');process.child(_child);process.parent(_parent);});};})(jQuery);